<!DOCTYPE html>
<html>

  <head>
    <title>NY Mag Ooyala Test</title>
     <!-- V4 JS core is required. Plugins such as skin, discovery and Advertising need to be loaded separately -->
    <script src="//player.ooyala.com/static/v4/stable/4.3.3/core.min.js"></script>
    <!-- Change these styles.css and html5-skin.js to your local build if necessary -->
    <script src="//player.ooyala.com/static/v4/stable/4.3.3/skin-plugin/html5-skin.min.js"></script>
    <link rel="stylesheet" href="//player.ooyala.com/static/v4/stable/4.3.3/skin-plugin/html5-skin.min.css"/>

    <!-- A Video Plugin is required. This example shows the Main Video Plugin -->
    <script src="//player.ooyala.com/static/v4/stable/4.3.3/video-plugin/main_html5.min.js"></script>
    
    <!-- Discovery Module -->
    <script src="//player.ooyala.com/static/v4/stable/4.3.3/other-plugin/discovery_api.min.js"></script>
    
    <!-- VAST ad plugin -->
    <script src="//player.ooyala.com/static/v4/stable/4.3.3/ad-plugin/google_ima.min.js"></script>
    <style>
      #centerColumn {
        display: flex;
        flex-direction: column;
        align-items: center;

      }

      #videoContainer {
        width: 100%;
        max-width: 800px;
      }

      .oo-player-container .oo-watermark {
       display: none;
      }
      
      .oo-player-container .oo-control-bar {
          background: rgba(0,0,0,1);
      }
    </style>
  </head>

  <body>
    <!--My Player V4 Content.-->
    <div id="centerColumn">
      <h1>NY Mag Ooyala Test</h1>
      <div id='videoContainer'></div>
    </div>
    <script>
      
      function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)", "i"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
      }
      var contentId = getParameterByName("video") || "RucW9oMjE6pRFW_71gpuc8hlKJDcWeBq"; // NzbXQ4MTE6sR537g6YmgZP3ZXHwjavAz
      var playerParam = {
        "pcode": "N0cmYyOrSYkNVK6-lYgHDAEJiUFl",
        "playerBrandingId": getParameterByName("player") || "60b6bf3054a74417a56d08b5889f5116",
        "debug": true,
        "skin": {
          // config contains the configuration setting for player skin. Change this path to your local config when necessary.
          "config": "//player.ooyala.com/static/v4/stable/4.3.3/skin-plugin/skin.json",
          "inline":{ 
            "pauseScreen":{ 
              "screenToShowOnPause":"discovery" 
            },
            startScreen: {
              showTitle: false,
              showDescription: false,
            }
          } 
        }, 
        "autoPlay": true,
        "replayAds": false,
        "showNonLinearCloseButton": false,
        "showLinearAdSkipButton": false,
      };
      // Surround everything with OO.ready to make sure the script has loaded and initialized.
      OO.ready(function() {
        window.pp = OO.Player.create('videoContainer', contentId, playerParam);
      });
    </script>
  </body>

</html>